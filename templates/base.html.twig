<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
        <title>{% block title %}Welcome!{% endblock %}</title>
        <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>⚫️</text></svg>">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

        <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
        {% block stylesheets %}
            <link rel="stylesheet" href="{{ asset('styles/app.css') }}">
        {% endblock %}

        {% block javascripts %}
            {{ importmap() }}
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        {% endblock %}
    </head>
    <body class="d-flex flex-column min-vh-100">


    <nav class="navbar navbar-expand-lg text-primary font-weight-bold">
        <div class="container-fluid">
            <a class="navbar-brand text-white h1 fs-1 mt-2" href="{{ path('app_home_user') }}">
                <img src="{{ asset('images/logo_alternatif.png') }}" class="me-3 mb-1" width="50" alt="logo hospitime">
                HOSPITIME
            </a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav w-100 d-lg-flex flex-row text-center">
                    {% block nav_item %}
                        <div class="d-flex align-items-center">
                            {% if is_granted('ROLE_PATIENT') %}
                                <li class="nav-item">
                                    <a class="nav-link active btn btn-outline-light mx-1 px-4" href="{{ path('app_user_appointments') }}">Mes rendez-vous</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link active btn btn-outline-light mx-1 px-4" href="#">Prendre un rendez-vous</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link active btn btn-outline-light mx-1 px-4" href="{{ path('app_faq') }}">Voir la FAQ</a>
                                </li>
                            {% elseif is_granted('ROLE_HEALTH_PROFESSIONAL') %}
                                <li class="nav-item">
                                    <a class="nav-link active btn btn-outline-light mx-1 px-4" href="{{ path('app_health_professional_calendar') }}">Mes consultations</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link active btn btn-outline-light mx-1 px-4" href="{{ path('app_availability_show', {id: app.user.id}) }}">Voir mes disponibilités</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link active btn btn-outline-light mx-1" href="#">Réserver matériel</a>
                                </li>
                            {% endif %}
                        </div>
                        {% if app.user %}
                            <div class="d-flex ms-auto align-items-center">
                                <li class="nav-item">
                                    <a href="{{ path('app_logout') }}" class="nav-link active btn btn-outline-light mx-0 px-4">Se déconnecter</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link active btn btn-outline-light btn-sm px-2 py-1 mx-1" href="{{ path('app_user_profile') }}">
                                        <span class="material-symbols-outlined fs-4">account_circle</span>
                                    </a>
                                </li>
                            </div>
                        {% else %}
                            <li class="nav-item ms-auto">
                                <a class="nav-link active btn btn-outline-light mx-1 px-4" href="{{ path('app_home_session') }}">Se connecter</a>
                            </li>
                        {% endif %}
                    {% endblock %}
                </ul>
            </div>

        </div>
    </nav>


    {% block body %}{% endblock %}
    <footer class="bg-dark mt-auto py-3">
        <ul class="nav justify-content-evenly border-bottom pb-3 mb-3">
            <li class="nav-item"><a href="{{ path('app_home') }}" class="nav-link px-2 text-white">Accueil</a></li>
            <li class="nav-item"><a href="#" class="nav-link px-2 text-white">Conditions d'utilisation</a></li>
            <li class="nav-item"><a href="{{ path('app_faq') }}" class="nav-link px-2 text-white">Foire aux questions</a></li>
            <li class="nav-item"><a href="#" class="nav-link px-2 text-white">A propos</a></li>
            <li class="nav-item"><a href="{{ path('app_contact_page') }}" class="nav-link px-2 text-white">Nous contacter</a></li>
            <li class="nav-item"><a href="#" class="nav-link px-2 text-white">Politique de confidentialité</a></li>
        </ul>
        <p class="text-center text-white">&copy; 2025 HOSPITIME. Tous droits réservés.</p>
    </footer>
    </body>
</html>
